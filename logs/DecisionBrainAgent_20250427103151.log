2025-04-27 10:31:52,351 - DecisionBrainAgent - INFO - 🚀 DecisionBrainAgent démarré
2025-04-27 10:31:52,352 - DecisionBrainAgent - INFO - 📥 Données d'entrée: {"operation": "evaluate_global_strategy", "context": {"test_mode": false, "simulate_data": true, "verbose": true, "integration_tests": true, "berinia_available": true}}
2025-04-27 10:31:52,352 - DecisionBrainAgent - INFO - ⚙️ Exécution du DecisionBrainAgent démarrée
2025-04-27 10:31:52,353 - DecisionBrainAgent - INFO - [BRAIN] 🧠 ========== DÉCISION STRATÉGIQUE ==========
2025-04-27 10:31:52,353 - DecisionBrainAgent - INFO - [BRAIN] 🔄 Début du processus de raisonnement stratégique global
2025-04-27 10:31:52,354 - DecisionBrainAgent - INFO - [BRAIN] 📋 Opération demandée: evaluate_global_strategy
2025-04-27 10:31:52,354 - DecisionBrainAgent - INFO - [BRAIN] 🔍 Récupération des données de campagnes passées et actives...
2025-04-27 10:31:52,354 - DecisionBrainAgent - INFO - [BRAIN] 📊 Campagnes passées: 0 | Campagnes actives: 0
2025-04-27 10:31:52,355 - DecisionBrainAgent - INFO - [BRAIN] 🧮 Interrogation de la mémoire vectorielle pour niches inexploitées...
2025-04-27 10:31:52,355 - DecisionBrainAgent - INFO - [BRAIN] 💡 Découverte de 0 opportunités inexploitées
2025-04-27 10:31:52,356 - DecisionBrainAgent - INFO - [BRAIN] ⚙️ Construction du prompt de décision stratégique...
2025-04-27 10:31:52,356 - DecisionBrainAgent - INFO - [BRAIN] 💭 Réflexion stratégique en cours (GPT-4.1)...
2025-04-27 10:31:52,357 - DecisionBrainAgent - INFO - [BRAIN] ⏱️ Décision prise en 0.00 secondes
2025-04-27 10:31:52,357 - DecisionBrainAgent - INFO - [BRAIN] 🆕 DÉCISION: Démarrer une nouvelle campagne
2025-04-27 10:31:52,358 - DecisionBrainAgent - INFO - [BRAIN] 🔍 Processus décisionnel:
2025-04-27 10:31:52,358 - DecisionBrainAgent - INFO - [BRAIN] 🧩   1. Analyse des campagnes passées : aucune donnée disponible.
2025-04-27 10:31:52,358 - DecisionBrainAgent - INFO - [BRAIN] 🧩   2. Analyse des campagnes actives : aucune donnée disponible.
2025-04-27 10:31:52,358 - DecisionBrainAgent - INFO - [BRAIN] 🧩   3. Analyse des niches inexploitées : aucune donnée disponible.
2025-04-27 10:31:52,359 - DecisionBrainAgent - INFO - [BRAIN] 🧩   4. Considération du contexte d'initialisation : système en phase de démarrage initial.
2025-04-27 10:31:52,359 - DecisionBrainAgent - INFO - [BRAIN] 🧩   5. Décision basée sur l'absence de données historiques et la nécessité d'initier l'apprentissage du système.
2025-04-27 10:31:52,359 - DecisionBrainAgent - INFO - [BRAIN] 👥 Agents à impliquer dans l'exécution:
2025-04-27 10:31:52,359 - DecisionBrainAgent - INFO - [BRAIN] 🤖   → StrategyAgent
2025-04-27 10:31:52,359 - DecisionBrainAgent - INFO - [BRAIN] 🤖   → PlanningAgent
2025-04-27 10:31:52,360 - DecisionBrainAgent - INFO - [BRAIN] 🤖   → CampaignStarterAgent
2025-04-27 10:31:52,360 - DecisionBrainAgent - INFO - [BRAIN] 🤖   → ScraperAgent
2025-04-27 10:31:52,360 - DecisionBrainAgent - INFO - [BRAIN] 🤖   → CleanerAgent
2025-04-27 10:31:52,360 - DecisionBrainAgent - INFO - [BRAIN] 🤖   → ClassifierAgent
2025-04-27 10:31:52,360 - DecisionBrainAgent - INFO - [BRAIN] 🚀 Démarrage des agents subordonnés...
2025-04-27 10:31:52,360 - DecisionBrainAgent - INFO - [BRAIN] 📞 Appel de l'agent StrategyAgent...
2025-04-27 10:31:52,367 - DecisionBrainAgent - INFO - [BRAIN] ✓ Agent StrategyAgent exécuté avec succès
2025-04-27 10:31:52,368 - DecisionBrainAgent - INFO - [BRAIN] 📞 Appel de l'agent PlanningAgent...
2025-04-27 10:31:52,369 - DecisionBrainAgent - ERROR - [BRAIN] ❌ Erreur lors de l'exécution de l'agent PlanningAgent: 'str' object has no attribute 'get'
2025-04-27 10:31:52,369 - DecisionBrainAgent - INFO - [BRAIN] ⚠️ Agent PlanningAgent a signalé une erreur: 'str' object has no attribute 'get'
2025-04-27 10:31:52,369 - DecisionBrainAgent - INFO - [BRAIN] ⏭️ Agent CampaignStarterAgent ignoré: chaîne d'exécution interrompue par des dépendances échouées: ['PlanningAgent']
2025-04-27 10:31:52,370 - DecisionBrainAgent - INFO - [BRAIN] ⏭️ Agent ScraperAgent ignoré: chaîne d'exécution interrompue par des dépendances échouées: ['CampaignStarterAgent']
2025-04-27 10:31:52,370 - DecisionBrainAgent - INFO - [BRAIN] ⏭️ Agent CleanerAgent ignoré: chaîne d'exécution interrompue par des dépendances échouées: ['ScraperAgent']
2025-04-27 10:31:52,370 - DecisionBrainAgent - INFO - [BRAIN] ⏭️ Agent ClassifierAgent ignoré: chaîne d'exécution interrompue par des dépendances échouées: ['CleanerAgent']
2025-04-27 10:31:52,370 - DecisionBrainAgent - INFO - [BRAIN] ✅ Exécution terminée en 0.02 secondes
2025-04-27 10:31:52,371 - DecisionBrainAgent - INFO - [BRAIN] 🧠 ==========================================
2025-04-27 10:31:52,372 - DecisionBrainAgent - INFO - 📤 Résultat: {"decision": {"decision_process": ["Analyse des campagnes passées : aucune donnée disponible.", "Analyse des campagnes actives : aucune donnée disponible.", "Analyse des niches inexploitées : aucune donnée disponible.", "Considération du contexte d'initialisation : système en phase de démarrage initial.", "Décision basée sur l'absence de données historiques et la nécessité d'initier l'apprentissage du système."], "action": "nouvelle", "campagne_cible": null, "commentaire": "Aucune campagne existante détectée. Le système doit initialiser une première campagne pour commencer à collecter des données et établir des références de performance. Cette phase initiale est cruciale pour l'apprentissage du système.", "priorité": "haute", "agents_à_impliquer": ["StrategyAgent", "PlanningAgent", "CampaignStarterAgent", "ScraperAgent", "CleanerAgent", "ClassifierAgent"]}, "thinking_steps": ["Réflexion stratégique en cours (GPT-4.1)..."], "execution_time": 0.017596960067749023, "timestamp": "2025-04-27T10:31:52.371233", "brain_log_file": "logs/DecisionBrainAgent_20250427103151.log", "agent_results": {"StrategyAgent": {"niche": "Avocats spécialisés en droit des affaires", "justification": "Les cabinets d'avocats spécialisés en droit des affaires ont souvent des clients à forte valeur qui nécessitent une réactivité immédiate. Leur absence du bureau (audiences, rendez-vous) et leurs horaires chargés entraînent une perte de prospects potentiels. Un standard téléphonique IA et un chatbot permettraient de capturer ces opportunités manquées et de réaliser un premier filtrage.", "potentiel_conversion": "élevé", "suggestions_message": ["Combien de clients potentiels estimez-vous perdre chaque mois à cause d'appels manqués ou sans réponse?", "Votre expertise en droit des affaires est précieuse. Pendant vos audiences, qui répond à vos nouveaux clients potentiels?", "Notre solution de standard téléphonique IA a permis à des cabinets similaires d'augmenter leur acquisition de clients de 30%"], "approach_used": "initial", "prompt_used": "\nTu es un agent stratégique chez BerinIA, une entreprise spécialisée dans l'installation de solutions d'IA pour les entreprises.\n\n🎯 Ce que nous proposons :\n- Installation de **chatbots intelligents** sur les sites web pour répondre aux questions, informer, guider, convertir.\n- Mise en place de **standards téléphoniques IA** pour ne plus perdre d'appels : l'IA répond, qualifie, redirige ou prend un RDV.\n\n👥 Nos cibles :\n- Nous travaillons exclusivement en **B2B**.\n- Nous visons des **TPE/PME ou indépendants**, notamment ceux qui perdent des clients à cause :\n  - d'un manque de disponibilité au téléphone\n  - de l'absence de réponses sur leur site\n  - d'un besoin d'automatiser une partie du service client\n\n🚫 Ne propose jamais :\n- De niches grand public (supermarchés, centres commerciaux, associations, grandes chaînes de distribution)\n- De niches déjà testées récemment ou sans pertinence pour notre service\n- De niches récemment rejetées par l'équipe de planification\n\n✅ Ce que tu dois faire :\n- Proposer **une niche d'activité professionnelle spécifique** (ex. : \"salons de massage\", \"plombiers\", \"cabinets dentaires\")\n- Cette niche doit avoir un **besoin évident** de présence téléphonique ou de chatbot\n- Elle doit être **logique avec notre offre**, et ne pas déjà avoir été testée\n\nTrouve une nouvelle niche originale à explorer.\n\n🧾 Voici les niches déjà testées :\n{\n  \"total_campaigns\": 0,\n  \"active_campaigns\": 0,\n  \"completed_campaigns\": 0,\n  \"top_performing_niches\": [],\n  \"underperforming_niches\": [],\n  \"average_conversion_rate\": 0,\n  \"lead_count_total\": 0,\n  \"most_recent_campaign\": null\n}\n\n📋 Voici les niches récemment rejetées par l'équipe de planification :\nAucune niche récemment rejetée.\n\n🔁 Ne propose rien de redondant ou trop proche s'il n'y a pas de vraie différence dans le besoin.\n\nDonne-moi :\n- Une seule niche, précise\n- Une justification stratégique et logique\n- Une estimation du potentiel de conversion (faible, moyen, élevé)\n- Des suggestions de message adaptés à cette niche pour le premier contact\n\nFormat attendu (strict) :\n- niche: <nom>\n- justification: <texte>\n- potentiel_conversion: <faible|moyen|élevé>\n- suggestions_message: <liste>\n", "timestamp": "2025-04-27T10:31:52.367356"}, "PlanningAgent": {"error": "'str' object has no attribute 'get'"}, "CampaignStarterAgent": {"error": "Dépendances non satisfaites", "status": "SKIPPED"}, "ScraperAgent": {"error": "Dépendances non satisfaites", "status": "SKIPPED"}, "CleanerAgent": {"error": "Dépendances non satisfaites", "status": "SKIPPED"}, "ClassifierAgent": {"error": "Dépendances non satisfaites", "status": "SKIPPED"}}}
2025-04-27 10:31:52,372 - DecisionBrainAgent - INFO - ⏱️ Temps d'exécution: 20.61 ms
2025-04-27 10:31:52,372 - DecisionBrainAgent - INFO - ✅ DecisionBrainAgent terminé avec succès en 21.47 ms
