2025-04-27 10:29:40,035 - brain_test - INFO - ‚úÖ Syst√®me de logging am√©lior√© charg√©
2025-04-27 10:29:40,059 - utils.config - INFO - Chargement des variables d'environnement depuis config/.env
2025-04-27 10:29:40,062 - utils.config - WARNING - OPENAI_API_KEY manquante, les fonctionnalit√©s LLM seront en mode simulation
2025-04-27 10:29:40,063 - utils.config - WARNING - JWT_SECRET manquante, l'authentification API sera d√©sactiv√©e
2025-04-27 10:29:40,063 - utils.config - WARNING - Param√®tres manquants: OPENAI_API_KEY, JWT_SECRET. Copiez config/.env.example vers config/.env et configurez ces param√®tres.
2025-04-27 10:29:41,044 - berinia-db-connector - INFO - ‚úÖ Table 'leads' trouv√©e dans la base de donn√©es Berinia
2025-04-27 10:29:41,045 - berinia-db-connector - INFO - ‚úÖ Connexion √† la DB Berinia r√©ussie avec URL: postgresql://berinia_user:***@localhost/berinia
2025-04-27 10:29:41,046 - root - INFO - ‚úÖ Module d'int√©gration Berinia disponible.
2025-04-27 10:29:41,049 - brain_test - INFO - ‚úÖ Agents import√©s avec succ√®s
2025-04-27 10:29:41,053 - berinia-db-connector - INFO - ‚úÖ Connexion √† la DB Berinia r√©ussie
2025-04-27 10:29:41,054 - brain_test - INFO - ‚úÖ Int√©gration Berinia test√©e - Disponible: True
2025-04-27 10:29:41,058 - brain_test - INFO - üöÄ D√©marrage du DecisionBrainAgent...
2025-04-27 10:29:41,059 - DecisionBrainAgent - INFO - üöÄ DecisionBrainAgent d√©marr√©
2025-04-27 10:29:41,060 - brain_test - INFO - üß† DecisionBrainAgent initialis√©
2025-04-27 10:29:41,060 - brain_test - INFO - ‚è≥ Ex√©cution de l'agent cerveau en cours...
2025-04-27 10:29:41,061 - DecisionBrainAgent - INFO - üì• Donn√©es d'entr√©e: {"operation": "evaluate_global_strategy", "context": {"test_mode": false, "simulate_data": true, "verbose": true, "integration_tests": true, "berinia_available": true}}
2025-04-27 10:29:41,061 - DecisionBrainAgent - INFO - ‚öôÔ∏è Ex√©cution du DecisionBrainAgent d√©marr√©e
2025-04-27 10:29:41,061 - DecisionBrainAgent - INFO - [BRAIN] üß† ========== D√âCISION STRAT√âGIQUE ==========
2025-04-27 10:29:41,062 - DecisionBrainAgent - INFO - [BRAIN] üîÑ D√©but du processus de raisonnement strat√©gique global
2025-04-27 10:29:41,062 - DecisionBrainAgent - INFO - [BRAIN] üìã Op√©ration demand√©e: evaluate_global_strategy
2025-04-27 10:29:41,062 - DecisionBrainAgent - INFO - [BRAIN] üîç R√©cup√©ration des donn√©es de campagnes pass√©es et actives...
2025-04-27 10:29:41,063 - DecisionBrainAgent - INFO - [BRAIN] üìä Campagnes pass√©es: 0 | Campagnes actives: 0
2025-04-27 10:29:41,063 - DecisionBrainAgent - INFO - [BRAIN] üßÆ Interrogation de la m√©moire vectorielle pour niches inexploit√©es...
2025-04-27 10:29:41,063 - DecisionBrainAgent - INFO - [BRAIN] üí° D√©couverte de 0 opportunit√©s inexploit√©es
2025-04-27 10:29:41,064 - DecisionBrainAgent - INFO - [BRAIN] ‚öôÔ∏è Construction du prompt de d√©cision strat√©gique...
2025-04-27 10:29:41,064 - DecisionBrainAgent - INFO - [BRAIN] üí≠ R√©flexion strat√©gique en cours (GPT-4.1)...
2025-04-27 10:29:41,064 - llm - INFO - Simulation de requ√™te GPT-4.1 avec temp√©rature 0.7
2025-04-27 10:29:41,065 - DecisionBrainAgent - INFO - [BRAIN] ‚è±Ô∏è D√©cision prise en 0.00 secondes
2025-04-27 10:29:41,065 - DecisionBrainAgent - INFO - [BRAIN] üÜï D√âCISION: D√©marrer une nouvelle campagne
2025-04-27 10:29:41,065 - DecisionBrainAgent - INFO - [BRAIN] üîç Processus d√©cisionnel:
2025-04-27 10:29:41,065 - DecisionBrainAgent - INFO - [BRAIN] üß©   1. Analyse des campagnes pass√©es : aucune donn√©e disponible.
2025-04-27 10:29:41,066 - DecisionBrainAgent - INFO - [BRAIN] üß©   2. Analyse des campagnes actives : aucune donn√©e disponible.
2025-04-27 10:29:41,066 - DecisionBrainAgent - INFO - [BRAIN] üß©   3. Analyse des niches inexploit√©es : aucune donn√©e disponible.
2025-04-27 10:29:41,066 - DecisionBrainAgent - INFO - [BRAIN] üß©   4. Consid√©ration du contexte d'initialisation : syst√®me en phase de d√©marrage initial.
2025-04-27 10:29:41,066 - DecisionBrainAgent - INFO - [BRAIN] üß©   5. D√©cision bas√©e sur l'absence de donn√©es historiques et la n√©cessit√© d'initier l'apprentissage du syst√®me.
2025-04-27 10:29:41,066 - DecisionBrainAgent - INFO - [BRAIN] üë• Agents √† impliquer dans l'ex√©cution:
2025-04-27 10:29:41,067 - DecisionBrainAgent - INFO - [BRAIN] ü§ñ   ‚Üí StrategyAgent
2025-04-27 10:29:41,067 - DecisionBrainAgent - INFO - [BRAIN] ü§ñ   ‚Üí PlanningAgent
2025-04-27 10:29:41,067 - DecisionBrainAgent - INFO - [BRAIN] ü§ñ   ‚Üí CampaignStarterAgent
2025-04-27 10:29:41,067 - DecisionBrainAgent - INFO - [BRAIN] ü§ñ   ‚Üí ScraperAgent
2025-04-27 10:29:41,067 - DecisionBrainAgent - INFO - [BRAIN] ü§ñ   ‚Üí CleanerAgent
2025-04-27 10:29:41,068 - DecisionBrainAgent - INFO - [BRAIN] ü§ñ   ‚Üí ClassifierAgent
2025-04-27 10:29:41,068 - DecisionBrainAgent - INFO - [BRAIN] üöÄ D√©marrage des agents subordonn√©s...
2025-04-27 10:29:41,068 - DecisionBrainAgent - INFO - [BRAIN] üìû Appel de l'agent StrategyAgent...
2025-04-27 10:29:41,070 - llm - INFO - Simulation de requ√™te GPT-4.1 avec temp√©rature 0.7
2025-04-27 10:29:41,070 - DecisionBrainAgent - ERROR - [BRAIN] ‚ùå Erreur lors de l'ex√©cution de l'agent StrategyAgent: 'str' object has no attribute 'get'
2025-04-27 10:29:41,070 - DecisionBrainAgent - INFO - [BRAIN] ‚ö†Ô∏è Agent StrategyAgent a signal√© une erreur: 'str' object has no attribute 'get'
2025-04-27 10:29:41,070 - DecisionBrainAgent - INFO - [BRAIN] ‚è≠Ô∏è Agent PlanningAgent ignor√©: cha√Æne d'ex√©cution interrompue par des d√©pendances √©chou√©es: ['StrategyAgent']
2025-04-27 10:29:41,071 - DecisionBrainAgent - INFO - [BRAIN] ‚è≠Ô∏è Agent CampaignStarterAgent ignor√©: cha√Æne d'ex√©cution interrompue par des d√©pendances √©chou√©es: ['StrategyAgent', 'PlanningAgent']
2025-04-27 10:29:41,071 - DecisionBrainAgent - INFO - [BRAIN] ‚è≠Ô∏è Agent ScraperAgent ignor√©: cha√Æne d'ex√©cution interrompue par des d√©pendances √©chou√©es: ['CampaignStarterAgent']
2025-04-27 10:29:41,071 - DecisionBrainAgent - INFO - [BRAIN] ‚è≠Ô∏è Agent CleanerAgent ignor√©: cha√Æne d'ex√©cution interrompue par des d√©pendances √©chou√©es: ['ScraperAgent']
2025-04-27 10:29:41,071 - DecisionBrainAgent - INFO - [BRAIN] ‚è≠Ô∏è Agent ClassifierAgent ignor√©: cha√Æne d'ex√©cution interrompue par des d√©pendances √©chou√©es: ['CleanerAgent']
2025-04-27 10:29:41,071 - DecisionBrainAgent - INFO - [BRAIN] ‚úÖ Ex√©cution termin√©e en 0.01 secondes
2025-04-27 10:29:41,072 - DecisionBrainAgent - INFO - [BRAIN] üß† ==========================================
2025-04-27 10:29:41,072 - agents - INFO - Agent DecisionBrainAgent: evaluate_global_strategy - UNKNOWN
2025-04-27 10:29:41,073 - brain_test - INFO - ‚úÖ Agent ex√©cut√© avec succ√®s en 0.01 secondes
2025-04-27 10:29:41,073 - DecisionBrainAgent - INFO - üì§ R√©sultat: {"decision": {"decision_process": ["Analyse des campagnes pass√©es : aucune donn√©e disponible.", "Analyse des campagnes actives : aucune donn√©e disponible.", "Analyse des niches inexploit√©es : aucune donn√©e disponible.", "Consid√©ration du contexte d'initialisation : syst√®me en phase de d√©marrage initial.", "D√©cision bas√©e sur l'absence de donn√©es historiques et la n√©cessit√© d'initier l'apprentissage du syst√®me."], "action": "nouvelle", "campagne_cible": null, "commentaire": "Aucune campagne existante d√©tect√©e. Le syst√®me doit initialiser une premi√®re campagne pour commencer √† collecter des donn√©es et √©tablir des r√©f√©rences de performance. Cette phase initiale est cruciale pour l'apprentissage du syst√®me.", "priorit√©": "haute", "agents_√†_impliquer": ["StrategyAgent", "PlanningAgent", "CampaignStarterAgent", "ScraperAgent", "CleanerAgent", "ClassifierAgent"]}, "thinking_steps": ["R√©flexion strat√©gique en cours (GPT-4.1)..."], "execution_time": 0.010098457336425781, "timestamp": "2025-04-27T10:29:41.072365", "brain_log_file": "logs/DecisionBrainAgent_20250427102940.log", "agent_results": {"StrategyAgent": {"error": "'str' object has no attribute 'get'"}, "PlanningAgent": {"error": "D√©pendances non satisfaites", "status": "SKIPPED"}, "CampaignStarterAgent": {"error": "D√©pendances non satisfaites", "status": "SKIPPED"}, "ScraperAgent": {"error": "D√©pendances non satisfaites", "status": "SKIPPED"}, "CleanerAgent": {"error": "D√©pendances non satisfaites", "status": "SKIPPED"}, "ClassifierAgent": {"error": "D√©pendances non satisfaites", "status": "SKIPPED"}}}
2025-04-27 10:29:41,073 - DecisionBrainAgent - INFO - ‚è±Ô∏è Temps d'ex√©cution: 13.72 ms
2025-04-27 10:29:41,074 - DecisionBrainAgent - INFO - ‚úÖ DecisionBrainAgent termin√© avec succ√®s en 14.46 ms
2025-04-27 10:29:41,074 - brain_test - INFO - üîÑ Ex√©cution des tests d'int√©gration...
2025-04-27 10:29:41,074 - brain_test - INFO - üß™ Test du CleanerAgent...
2025-04-27 10:29:41,074 - CleanerAgent - INFO - üöÄ CleanerAgent d√©marr√©
2025-04-27 10:29:41,075 - CleanerAgent - INFO - üì• Donn√©es d'entr√©e: {"raw_leads": [{"id": "test_lead_1", "company_name": "Entreprise Test 1", "email": "contact@test1.com", "phone": "+33123456789"}, {"id": "test_lead_2", "company_name": "Entreprise Test 2", "email": "", "phone": "+33987654321"}, {"id": "test_lead_3", "company_name": "Entreprise Test 3", "email": "info@test3.fr", "phone": "+33555555555"}], "campaign_id": "test_campaign_123"}
2025-04-27 10:29:41,075 - agents - INFO - Agent CleanerAgent: execute - FAILED
2025-04-27 10:29:41,075 - CleanerAgent - INFO - üì§ R√©sultat: {"error": "Aucune donn√©e √† nettoyer", "clean_data": [], "status": "FAILED", "message": "Un ensemble de leads valide est requis pour le nettoyage. L'agent StrategyAgent ou ScraperAgent doit fournir des donn√©es."}
2025-04-27 10:29:41,075 - CleanerAgent - INFO - ‚è±Ô∏è Temps d'ex√©cution: 0.96 ms
2025-04-27 10:29:41,076 - CleanerAgent - INFO - ‚úÖ CleanerAgent termin√© avec succ√®s en 1.42 ms
2025-04-27 10:29:41,076 - brain_test - INFO - ‚úÖ CleanerAgent a trait√© 0 leads
2025-04-27 10:29:41,076 - brain_test - INFO - üß™ Test du LeadClassifierAgent...
2025-04-27 10:29:41,076 - LeadClassifierAgent - INFO - üöÄ LeadClassifierAgent d√©marr√©
2025-04-27 10:29:41,076 - LeadClassifierAgent - INFO - üì• Donn√©es d'entr√©e: {"cleaned_leads": [], "campaign_id": "test_campaign_123"}
2025-04-27 10:29:41,077 - agents - INFO - Agent LeadClassifierAgent: execute - COMPLETED
2025-04-27 10:29:41,077 - LeadClassifierAgent - INFO - üì§ R√©sultat: {"operation": "classify", "campaign_id": "test_campaign_123", "timestamp": "2025-04-27T10:29:41.077123", "status": "COMPLETED", "classified_leads": [], "metrics": {"total_leads": 0, "avg_global_score": 0, "valid_contacts": 0}, "message": "Aucun lead fourni pour la classification. Pr√™t pour la prochaine s√©rie de leads."}
2025-04-27 10:29:41,078 - LeadClassifierAgent - INFO - ‚è±Ô∏è Temps d'ex√©cution: 1.25 ms
2025-04-27 10:29:41,078 - LeadClassifierAgent - INFO - ‚úÖ LeadClassifierAgent termin√© avec succ√®s en 1.59 ms
2025-04-27 10:29:41,078 - brain_test - INFO - ‚úÖ LeadClassifierAgent a classifi√© 0 leads
2025-04-27 10:29:41,078 - brain_test - INFO - üß™ Test du CRMExporterAgent (Berinia)...
2025-04-27 10:29:41,078 - CRMExporterAgent - INFO - üöÄ CRMExporterAgent d√©marr√©
2025-04-27 10:29:41,079 - CRMExporterAgent - INFO - üöÄ CRMExporterAgent d√©marr√©
2025-04-27 10:29:41,079 - CRMExporterAgent - INFO - üì• Donn√©es d'entr√©e: {"classified_leads": [], "campaign_id": "test_campaign_123", "pending_leads_count": 5, "daily_limit": 20, "exported_today": 10}
2025-04-27 10:29:41,079 - CRMExporterAgent - INFO - üì• Donn√©es d'entr√©e: {"classified_leads": [], "campaign_id": "test_campaign_123", "pending_leads_count": 5, "daily_limit": 20, "exported_today": 10}
2025-04-27 10:29:41,079 - CRMExporterAgent - INFO - ‚öôÔ∏è D√©cision d'exportation des leads vers le CRM...
2025-04-27 10:29:41,081 - CRMExporterAgent - ERROR - ‚ùå ERREUR: Aucun lead √† exporter
2025-04-27 10:29:41,081 - CRMExporterAgent - ERROR - Contexte de l'erreur: {"input_data": "empty"}
2025-04-27 10:29:41,082 - agents - INFO - Agent CRMExporterAgent: execute - UNKNOWN
2025-04-27 10:29:41,082 - CRMExporterAgent - INFO - üì§ R√©sultat: {"error": "Aucun lead √† exporter", "export_decision": {"leads_to_export_now": [], "leads_to_delay": []}}
2025-04-27 10:29:41,082 - CRMExporterAgent - INFO - ‚è±Ô∏è Temps d'ex√©cution: 3.22 ms
2025-04-27 10:29:41,082 - CRMExporterAgent - WARNING - ‚ö†Ô∏è CRMExporterAgent termin√© avec statut 'no_leads' en 3.69 ms
2025-04-27 10:29:41,083 - CRMExporterAgent - INFO - üì§ R√©sultat: {"error": "Aucun lead √† exporter", "export_decision": {"leads_to_export_now": [], "leads_to_delay": []}}
2025-04-27 10:29:41,083 - CRMExporterAgent - INFO - ‚è±Ô∏è Temps d'ex√©cution: 4.15 ms
2025-04-27 10:29:41,083 - CRMExporterAgent - WARNING - ‚ö†Ô∏è CRMExporterAgent termin√© avec statut 'failure' en 4.41 ms
2025-04-27 10:29:41,083 - brain_test - INFO - ‚úÖ CRMExporterAgent a export√© 0 leads (statut: None)
2025-04-27 10:29:41,083 - brain_test - INFO - üíæ R√©sultat sauvegard√© dans logs/brain_result_20250427102941.json
2025-04-27 10:29:41,084 - brain_test - INFO - üìä Rapport d'ex√©cution syst√®me: logs/execution/system_execution_20250427102941.json
2025-04-27 10:29:41,084 - brain_test - INFO - üìä D√©tails de la d√©cision :
2025-04-27 10:29:41,084 - brain_test - INFO -   Action : nouvelle
2025-04-27 10:29:41,085 - brain_test - INFO -   Campagne cible : None
2025-04-27 10:29:41,085 - brain_test - INFO -   Priorit√© : haute
2025-04-27 10:29:41,085 - brain_test - INFO -   Agents √† impliquer : StrategyAgent, PlanningAgent, CampaignStarterAgent, ScraperAgent, CleanerAgent, ClassifierAgent
2025-04-27 10:29:41,085 - brain_test - INFO - üß© √âtapes de r√©flexion :
2025-04-27 10:29:41,085 - brain_test - INFO -   1. R√©flexion strat√©gique en cours (GPT-4.1)...
